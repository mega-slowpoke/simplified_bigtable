syntax = "proto3";

package bigtable;

option go_package = "final/proto";

service TabletInternalService {

  //  // Create a new column family for a tablet
  //  rpc CreateTabletColumnFamily(CreateTabletColumnFamilyRequest) returns (CreateTabletColumnFamilyResponse);
  //
  //  // Delete a column family for a tablet
  //  rpc DeleteTabletColumnFamily(DeleteTabletColumnFamilyRequest) returns (DeleteTabletColumnFamilyResponse);
  //

  // TODO:
  // heartbeatCheck()
  // CreateTable()
  // DeleteTable() -> external api


  // Sharding
  rpc UpdateShard(UpdateShardRequest) returns (UpdateShardResponse);
}



message UpdateShardRequest {
  string table_name = 1;
  repeated string table_rows = 2;
  map<string, Columns> table_columns = 3;   // columnFamily -> columns
  map<string, string> table_info = 4;
}

message Columns {
  repeated string column_names = 1;
}



message UpdateShardResponse {}
